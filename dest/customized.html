<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>浪愛回家 ｜ 客製化項圈</title>
<link rel="icon" href="img/logo.ico" type="image/x-icon">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>

    <link rel="stylesheet" href="./css/customized.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <!-- <link rel="stylesheet" href="./css/dialog.css"> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
    <script src="./js/jcanvas.min.js"></script>
    <script src="./js/fabric.min.js"></script>
    <script src="./js/modernizr.custom.js"></script>
    <script src="./js/sweet-alert.js"></script>
    <script src="./js/customizedTabsEvent.js"></script>
    <script src="./js/customized.js"></script>


</head>

<body>

    <div id="memberPoint">
        會員點數 :
        <span id="showPoint"></span> 點
    </div>
    <div style="display: none; position: fixed; right: 100px; top: 150px; z-index: 100;">
        解鎖吊牌:
        <span id="memTagNo"></span>
    </div>
    <header class="header-navigation" id="header">
    <nav class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
        <div class="container col-xl-8 col-lg-9 col-md-11 col-sm-12">
            <h1>
                <a href="./main.html">
                    <img src="./img/logo-wide.png" alt="logo">
                </a>
            </h1>
            <ul class="col-xl-9 col-lg-9 col-md-9">
                <li><a href="./map.html">浪浪在哪裡</a></li>
                <li><a href="./donation.html">愛心助浪浪</a></li>
                <li><a href="./customized.html">客製化項圈</a></li>
                <li><a href="./post_article_region.html">毛孩交流區</a></li>
                <li><a href="./aboutus.html">關於我們</a></li>
                <li><a class="login" href="./login.html">登入 / 註冊</a></li>
            </ul>
            <button class="hamburger hamburger--spring" type="button">
                <span class="hamburger-box">
                  <span class="hamburger-inner"></span>
                </span>
            </button>
        </div>
    </nav>
</header>

    <section class="section" id="section">
        <div class="content">
            <div id="signInFirstBlock">
                <a class="btn darkgreen nav__link"  href='login.html'>
    <span class="titleFont">
        請先登入
    </span>
    <div class="border"></div>
    <div class="border"></div>
    <div class="border"></div>
    <div class="border"></div>
</a>

            </div>
            <script>
                function getPoint() {
                    var memberPoint = document.getElementById('memberPoint');
                    var signInFirstBlock = document.getElementById('signInFirstBlock');
                    var xhr = new XMLHttpRequest();
                    var url = "php/checkMem.php";
                    xhr.open("GET", url, true);
                    xhr.send(null);
                    xhr.onload = function() {
                        if (xhr.status == 200) {
                            member = JSON.parse(xhr.responseText);
                            if (member.memId) {
                                memberPoint.style.display = "block";
                                signInFirstBlock.style.display = "none";
                                // alert(typeof(member.memNo));

                            }
                        }
                    }
                }
                getPoint();
            </script>
            <!-- 客製化content,含預覽區以及編輯區 -->
            <div class="preview_area" id="preview_area" style="background-color: rgba(255, 185, 185, 0.3)">
                <!-- 預覽區 -->
                <canvas id="canvas2" style="border: 0px solid blue;"></canvas>
                <canvas id="canvas" style="border: 0px solid red;"></canvas>
                <img src="" alt="" id="tagImg2" style="display: none;">
                <!-- <script>
                    var fullQuality = canvas.toDataURL("image/png", 1.0);
                    console.log(fullQuality);
                </script> -->
                <!-- <img src="./img/customized_collar/leather_png/1collar_FFB9B9_finish.png" alt="" id="collarImg" style="display: none;"> -->
                <!-- <img src="./img/customized_collar/leather_png/1.png" alt="" id="collarImg" style="display: none;"> -->

                <!-- <img src="./img/customized_collar/zoomIn.png" alt="" id="zoomIn">
                <div class="list-item">
                    <i class="fa fa-wifi" aria-hidden="true"></i>
                    <input type="checkbox" id="chkbox" />
                    <label for="chkbox"></label>
                </div> -->
            </div>
            <div class="edit_area" id="edit_area">
                <!-- 編輯區 -->
                <div id="stepTab">
                    <ul class="tabs">
                        <li class="tab-link current tabOpen" data-tab="tab-1" id="bigTab1">
                            <span class="stepNum tabSpanOpen">01</span>
                            <span class="stepTitle tabSpanOpen">STEP</span>
                            <span class="stepTitle tabSpanOpen">選擇皮帶</span>
                            <div class="fakeCircles fakeCircle1"></div>
                            <div class="fakeCircles fakeCircle2"></div>
                            <div class="fakeCircles fakeCircle3"></div>
                            <div class="fakeCircles fakeCircle4"></div>
                        </li>
                        <div class="tabLine1"></div>
                        <li class="tab-link tabClose" data-tab="tab-2" id="bigTab2" style="pointer-events: none;">
                            <span class="stepNum tabSpanClose">02</span>
                            <span class="stepTitle tabSpanClose">STEP</span>
                            <span class="stepTitle tabSpanClose">選擇吊牌</span>
                            <div class="fakeCircles fakeCircle5"></div>
                            <div class="fakeCircles fakeCircle6"></div>
                            <div class="fakeCircles fakeCircle7"></div>
                            <div class="fakeCircles fakeCircle8"></div>
                        </li>
                        <div class="tabLine2"></div>
                        <li class="tab-link tabClose" data-tab="tab-3" id="bigTab3" style="pointer-events: none;">
                            <span class="stepNum tabSpanClose">03</span>
                            <span class="stepTitle tabSpanClose">STEP</span>
                            <span class="stepTitle tabSpanClose">吊牌文字</span>
                            <div class="fakeCircles fakeCircle9"></div>
                            <div class="fakeCircles fakeCircle10"></div>
                            <div class="fakeCircles fakeCircle11"></div>
                            <div class="fakeCircles fakeCircle12"></div>
                        </li>
                        <div class="tabLine3"></div>
                        <li class="tab-link tabClose" data-tab="tab-4" id="bigTab4" style="pointer-events: none;">
                            <span class="stepNum tabSpanClose">04</span>
                            <span class="stepTitle tabSpanClose">STEP</span>
                            <span class="stepTitle tabSpanClose">完成</span>
                            <div class="fakeCircles fakeCircle13"></div>
                            <div class="fakeCircles fakeCircle14"></div>
                            <div class="fakeCircles fakeCircle15"></div>
                            <div class="fakeCircles fakeCircle16"></div>
                        </li>
                        <!-- <div class="tabLine4">

                        </div>

                        <li class="tab-link tabClose" data-tab="tab-5" id="bigTab5" style="pointer-events: none;">
                            <span class="stepNum tabSpanClose">05</span>
                            <span class="stepTitle tabSpanClose">STEP</span>
                            <span class="stepTitle tabSpanClose">立即購買</span>
                            <div class="fakeCircles fakeCircle17"></div>
                            <div class="fakeCircles fakeCircle18"></div>
                            <div class="fakeCircles fakeCircle19"></div>
                            <div class="fakeCircles fakeCircle20"></div>
                        </li> -->
                    </ul>
                    <div id="tabsContent">
                        <div id="tab-1" class="tab-content current">
                            <div class="collarImagesContainer" style="padding: 0px;">
                                <div class="collarImagesBoxs" style="background-color: rgba(255, 185, 185, 0.4); border: 0px solid #7e9c23;" id="collarImage1"><img src="./img/customized_collar/collarImages/1collar_FFB9B9.png" class="collarImages imageApplying"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow shadowApplying"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(255, 128, 128, 0.4);" id="collarImage2"><img src="./img/customized_collar/collarImages/2collar_FF8080.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(198, 36, 36, 0.4);" id="collarImage3"><img src="./img/customized_collar/collarImages/3collar_C62424.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(255, 181, 106, 0.4);" id="collarImage4"><img src="./img/customized_collar/collarImages/4collar_FFB46A.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(255, 128, 0, 0.4);" id="collarImage5"><img src="./img/customized_collar/collarImages/5collar_FF7E00.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(239, 248, 112, 0.4);" id="collarImage6"><img src="./img/customized_collar/collarImages/6collar_F0F870.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(238, 255, 0, 0.4);" id="collarImage7"><img src="./img/customized_collar/collarImages/7collar_F0FF00.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(158, 255, 109, 0.4);" id="collarImage8"><img src="./img/customized_collar/collarImages/8collar_9DFF6D.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(120, 255, 53, 0.4);" id="collarImage9"><img src="./img/customized_collar/collarImages/9collar_77FF35.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(0, 255, 0, 0.4);" id="collarImage10"><img src="./img/customized_collar/collarImages/10collar_01FF00.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(14, 140, 14, 0.4);" id="collarImage11"><img src="./img/customized_collar/collarImages/11collar_0F8C0E.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(13, 134, 110, 0.4);" id="collarImage12_1"><img src="./img/customized_collar/collarImages/12collar_0D866D.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(25, 57, 24,0.4);" id="collarImage12_2"><img src="./img/customized_collar/collarImages/12collar_255724.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(160, 255, 209, 0.4);" id="collarImage13"><img src="./img/customized_collar/collarImages/13collar_A0FFD1.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(110, 248, 181, 0.4);" id="collarImage14"><img src="./img/customized_collar/collarImages/14collar_6EF8B5.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(0, 255, 204, 0.4);" id="collarImage15"><img src="./img/customized_collar/collarImages/15collar_00FFCA.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(5, 238, 255, 0.4);" id="collarImage16"><img src="./img/customized_collar/collarImages/16collar_05EDFF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(27, 110, 116, 0.4);" id="collarImage17"><img src="./img/customized_collar/collarImages/17collar_1B6E74.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(0, 140, 255, 0.4);" id="collarImage18"><img src="./img/customized_collar/collarImages/18collar_008DFF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(15, 69, 114, 0.4);" id="collarImage19"><img src="./img/customized_collar/collarImages/19collar_0F4672.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(248, 120, 255, 0.4);" id="collarImage20"><img src="./img/customized_collar/collarImages/20collar_F878FF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(191, 164, 255, 0.4);" id="collarImage21"><img src="./img/customized_collar/collarImages/21collar_BFA4FF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(128, 74, 255, 0.4);" id="collarImage22"><img src="./img/customized_collar/collarImages/22collar_7F4AFF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(78, 2, 255, 0.4);" id="collarImage23"><img src="./img/customized_collar/collarImages/23collar_4C02FF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(50, 40, 75, 0.4);" id="collarImage24"><img src="./img/customized_collar/collarImages/24collar_32284B.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(255, 255, 255, 0.4);" id="collarImage25"><img src="./img/customized_collar/collarImages/25collar_FFFFFF.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(162, 162, 162, 0.4);" id="collarImage26"><img src="./img/customized_collar/collarImages/26collar_A2A2A2.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                                <div class="collarImagesBoxs" style="background-color: rgba(61, 61, 61, 0.4);" id="collarImage27"><img src="./img/customized_collar/collarImages/27collar_3D3D3D.png" class="collarImages"><img src="./img/customized_collar/collar_shadow.png" class="collarShadow"></div>
                            </div>
                            <div class="stepBtn">
                                <button class="stepNextBtn" id="step1NextBtn" data-tab="tab-2" style="width: 100%;">下一步</button>
                            </div>
                        </div>
                        <div id="tab-2" class="tab-content">
                            <div id="collarTagSlider">
                                <div id="collarTagWrap">
                                </div>
                            </div>
                            <script>
                                window.addEventListener('load', function() {
                                    var memNo = member.memNo;
                                    var xhr = new XMLHttpRequest();
                                    var url = "php/getMemPoint.php";
                                    xhr.open("POST", url, true);
                                    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                                    var data_info = `memNo=${memNo}`;
                                    xhr.send(data_info);

                                    xhr.onload = function() {
                                        // console.log(this.responseText);
                                        let frontStr = this.responseText.substr(14);
                                        // console.log(frontStr);
                                        let backStr = frontStr.lastIndexOf('0');
                                        // console.log(backStr);
                                        newStr = parseInt(frontStr.substring(0, backStr + 1));
                                        // console.log(newStr);
                                        // console.log(typeof(newStr));
                                        document.getElementById('showPoint').innerText = newStr;
                                        member.memPoint = document.getElementById('showPoint').innerText;
                                    };

                                    var xhr = new XMLHttpRequest();
                                    var url = "php/getMemTagNo.php";
                                    xhr.open("POST", url, true);
                                    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                                    var data_info = `memNo=${memNo}`;
                                    xhr.send(data_info);
                                    xhr.onload = function() {
                                        // alert(this.responseText);
                                        let frontStr = this.responseText.substr(14);
                                        // console.log(frontStr);
                                        let backStr = frontStr.lastIndexOf('"');
                                        // console.log(backStr);
                                        let newTagStr = frontStr.substring(0, backStr);
                                        // console.log(typeof(newTagStr));
                                        document.getElementById('memTagNo').innerText = newTagStr;
                                        console.log(typeof(document.getElementById('memTagNo').innerText));
                                        newArray = document.getElementById('memTagNo').innerText.split(",");
                                        // console.log(myArray);
                                        member.memTagNo = document.getElementById('memTagNo').innerText;
                                    }
                                });


                                function updateMemPoint(sendNewPoint) {
                                    var memNo = member.memNo;
                                    var xhr = new XMLHttpRequest();
                                    var url = "php/updateMemPoint.php";
                                    xhr.open("POST", url, true);
                                    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                                    var data_info = `memNo=${memNo}&memPoint=${sendNewPoint}`;
                                    xhr.send(data_info);
                                }

                                function showTag() {
                                    $.ajax({
                                        url: "php/getTagInfo.php",
                                        type: "post",
                                        dataType: "json",
                                        success: function(data) {
                                            let msg = "";
                                            for (i = 0; i < data.length; i++) {
                                                msg +=
                                                    `<div class="tagItems" tagNo="${data[i].tagNo}">
                                                        <img src="./img/customized_collar/new1/${data[i].tagSrc1}" alt="" class="tagImages" id="tagImages${i+1}" psn="${i}">
                                                        <div class="lockPoint" id="lockPoint${i+1}">
                                                            <span>所需點數&nbsp;:</span>
                                                            <span>&nbsp;${data[i].tagPoint}</span>
                                                        </div>
                                                        <div class="lockStatus" id="unlock${i+1}">
                                                            <button class="unlock" point="${data[i].tagPoint}">解鎖</button>
                                                        </div>
                                                    </div>`
                                            }
                                            $("#collarTagWrap").append(msg);
                                            $(document).ready(function() {
                                                newArray = document.getElementById('memTagNo').innerText.split(",");
                                                $('.unlock').click(function() {
                                                    let point = parseInt($(this).attr('point'));
                                                    let nowPoint = $('#showPoint').text();
                                                    let result = confirm(`確定要解鎖此吊牌嗎?\n\n將立即扣除會員點數 ${point} 點`);
                                                    if (result) {
                                                        if (nowPoint >= point) {
                                                            nowPoint = nowPoint - point;
                                                            member.memPoint = nowPoint;
                                                            updateMemPoint(nowPoint);
                                                            document.getElementById('showPoint').innerText = nowPoint;
                                                            swal("兌換成功!", "", "success");
                                                            newArray.push($(this).parent().parent().attr('tagNo'));
                                                            tagStr = newArray.toString();
                                                            if (tagStr.charAt(0) == ",") {
                                                                tagStr = tagStr.substr(1);
                                                            }
                                                            updateMemTagNo(tagStr);
                                                            document.getElementById('memTagNo').innerText = tagStr;
                                                            member.memTagNo = document.getElementById('memTagNo').innerText;
                                                        } else {
                                                            alert(`會員點數不足,還差 ${point - nowPoint} 點`);
                                                        }
                                                    } else {
                                                        return;
                                                    }
                                                })
                                            });
                                        }
                                    })
                                }
                                showTag();

                                // $(document).ready(function() {
                                //     var arr = new Array();
                                //     alert(typeof(arr));
                                //     $('.unlock').click(function() {
                                //         arr.push($(this).parent().parent().attr('tagNo'));
                                //         console.log(arr);
                                //         alert(arr);
                                //     })
                                // })


                                function updateMemTagNo(sendMemTagNo) {
                                    var memNo = member.memNo;
                                    var xhr = new XMLHttpRequest();
                                    var url = "php/updateMemTagNo.php";
                                    xhr.open("POST", url, true);
                                    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                                    var data_info = `memNo=${memNo}&memTagNo=${sendMemTagNo}`;
                                    xhr.send(data_info);
                                }
                            </script>
                            <div class="changePage sliderBtns">
                                <button class="to_left" style="cursor: pointer;" id="sliderBtnLeft" disabled></button>
                                <div id="tagTotal">
                                    <span class="titleFont" style="font-size: 20px;" id="nowTag">1</span>
                                    <span class="titleFont" style="font-size: 20px;">/</span>
                                    <span class="titleFont" style="font-size: 20px;"></span>
                                </div>
                                <button class="to_right" style="cursor: pointer;" id="sliderBtnRight"></button>
                            </div>
                            <div class="stepBtn">
                                <button class="stepBackBtn" id="step2BackBtn">上一步</button>
                                <button class="stepNextBtn" id="step2NextBtn">下一步</button>
                            </div>
                        </div>
                        <div id="tab-3" class="tab-content">
                            <div class="addText">
                                <div id="textStyle">
                                    <h4 style="margin: 0px 20px 0px 10px;">選擇文字風格： </h4>
                                    <!-- <input type="radio" name="textStyle" id="textStyle1" checked>
                                    <label for="textStyle1" id="showStyle1">文字雕刻</label> -->
                                    <input type="radio" name="textStyle" id="textStyle2">
                                    <label for="textStyle2" id="showStyle2">文字描邊</label>
                                    <input type="radio" name="textStyle" id="textStyle3">
                                    <label for="textStyle3" id="showStyle3">一般文字</label>
                                </div>
                                <div id="textColor">
                                    <h4 style="margin: 0px 20px 0px 10px;">選擇文字顏色： </h4>
                                    <div class="color-picker" id="colorPicker"></div>
                                </div>
                                <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
                                <script>
                                </script>
                                <div id="textFontFamily">
                                    <h4 style="margin: 0px 20px 0px 10px;">選擇文字字型： </h4>
                                    <select name="" id="fontFamilySelect">
                                        <option value="default" selected disabled>請選擇字型</option>
                                        <option value="Pacifico">Pacifico</option>
                                        <option value="VT323">VT323</option>
                                        <option value="Quicksand">Quicksand</option>
                                        <option value="Inconsolata">Inconsolata</option>
                                    </select>
                                </div>
                                <div id="textContent">
                                    <h4 style="margin: 0px 20px 0px 10px;">輸入文字內容： </h4>
                                    <input type="text" name="" id="textContent1" placeholder="請輸入文字">
                                </div>
                                <div>
                                    <a class="btn darkgreen nav__link" @@connect style="cursor: pointer;" id="addTextBtn">
                                        <span class="titleFont">
                                            新增文字
                                        </span>
                                        <div class="border"></div>
                                        <div class="border"></div>
                                        <div class="border"></div>
                                        <div class="border"></div>
                                    </a>
                                    <a class="btn darkgreen nav__link" @@connect style="cursor: pointer;" id="delTextBtn">
                                        <span class="titleFont">
                                            刪除文字
                                        </span>
                                        <div class="border"></div>
                                        <div class="border"></div>
                                        <div class="border"></div>
                                        <div class="border"></div>
                                    </a>
                                </div>
                                <!-- <script>
                                    var dataURL = canvas.toDataURL();
                                    console.log(dataURL);
                                </script> -->
                                <a href="#" download="dl.png" onclick="this.href=canvas.toDataURL();">下載</a>
                                <button id="base64Btn">轉base64</button>
                                <!-- <script>
                                    function convertbase64() {
                                        var canvasbase64 = canvas.toDataURL();
                                        console.log(canvasbase64);
                                    }
                                </script> -->
                            </div>
                            <div class="stepBtn">
                                <button class="stepBackBtn" id="step3BackBtn">上一步</button>
                                <button class="stepNextBtn" id="step3NextBtn">下一步</button>
                            </div>
                        </div>
                        <div id="tab-4" class="tab-content">
                            <!-- <div data-dialog="somedialog" class="trigger" id="purchaseBtn">
                                <button id="purchaseBtn_1">
                                立即購買
                            </button>
                            </div> -->
                            step4
                            <div id="">

                            </div>
                            <div id="">

                            </div>
                            <div class="stepBtn">
                                <button class="stepBackBtn" id="step4BackBtn">上一步</button>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- container -->
                <script>
                </script>

            </div>
        </div>
    </section>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.js"></script>
    <script>
        new Vue({
            el: '#section',
            data: {
                collarSize: '',
                collarText: '',
            }
        });
    </script> -->
    <script src="./js/hamburger.js"></script>
    <script src="./js/header_slide.js"></script>
    <div id="somedialog" class="dialog">
        <div class="dialog__overlay"></div>
        <div class="dialog__content">
            <h2 style="color: white;">立即購買</h2>
            <div>
                <img src="./img/lightBoxClose.png" class="action" data-dialog-close>
            </div>
        </div>
    </div>
    <script src="./js/classie.js"></script>
    <script src="./js/dialogFx.js"></script>
    <script>
        (function() {
            var dlgtrigger = document.querySelector('[data-dialog]'),
                somedialog = document.getElementById(dlgtrigger.getAttribute('data-dialog')),
                dlg = new DialogFx(somedialog);
            dlgtrigger.addEventListener('click', dlg.toggle.bind(dlg));
        })();
    </script>

    <script src="./js/signInOut.js"></script>

</body>

</html>